<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Add Robot</title>
</head>
<body>

<script>
  function readLego(){
		var xhttp = new XMLHttpRequest();
		xhttp.onreadystatechange = function() {
		  if (this.readyState == 4 && this.status == 200) {
		   var lego=JSON.parse(this.responseText);
		   document.getElementById("lego").innerHTML="Id="+lego.id+"<br>Name="+lego.name;
		   document.getElementById("legoid").value=lego.id;
		   
		  }
		};
		
		xhttp.open("GET","/rest/lego/getlego",true);
		xhttp.send();	  
  }
  function sendData(form){
		//Create a new Javascript object
		var Robot=new Object();
		Robot.speed=form.speed.value;
		//var lego=new Object();
		//lego.id=form.legoid.value;
		Robot.name=form.name.value;
		Robot.iswhite=form.iswhite.value;
		
		var json=JSON.stringify(Robot);
		var xhttp = new XMLHttpRequest();
		console.log("Knewwww");
		
		xhttp.onreadystatechange = function() {
		  if (this.readyState == 4 && this.status == 200) {
		   var settings=JSON.parse(this.responseText);
		   var settingsLength=settings.length-1;
		   document.getElementById("t22").innerHTML="ID="+settings[settingsLength].id+" Speed="+settings[settingsLength].speed+ "Name="+settings[settingsLength].name+ "Iswhite=" +settings[settingsLength].iswhite;
		  }
		};
		
		xhttp.open("POST","/rest/t22RestfulProject/addrobot",true);
		xhttp.setRequestHeader("Content-type","application/json");
		xhttp.send(json);
	 
		
	}
  </script>
<form >
ID:<input type="text" name="id" value=""><br>
Name:<input type="text" name="name" value=""><br>
Speed:<input type="text" name="speed" value=""><br>
Iswhite?<br>
<input type="radio" name="iswhite" value="0">No<br>
<input type="radio" name="iswhite" value="1">Yes<br>
<input type="button" name="OK" value="Send" onclick="sendData(this.form)"><br>
</form>

<p id="t22"></p>
</body>
</html>